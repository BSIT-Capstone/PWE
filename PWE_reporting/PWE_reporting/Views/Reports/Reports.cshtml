@{
    ViewBag.Title = "Reports";

    string reportParamSelect = "";
    string reportParam = "";
}
<h2>Reports</h2>
<div style="max-width:60%;" class="table-responsive">
  @using (Html.BeginForm("DownloadReport", "Reports", FormMethod.Post, new { id = "reportForm" }))
  {
   <!-- <form id="reportForm">-->
   <p>Select a report to download</p>

   <select name="report_selecter" id="report_selecter">
     <option value="">--Select Report--</option>
       @foreach (var report in Model)
       {
         <option value="@report.ReportName">@report.ReportName</option>
       }
  </select>
              foreach (var report in Model)
              {
                  reportParamSelect = report.ReportName;

                  foreach (var reportPara in report.ReportParameters)
                  {
                    <input class="parameters" type="hidden" name="@reportPara.ParameterName" value="@reportParamSelect" id="@reportPara.ParameterName" />
                    <div class="reportParameters" name="@reportParamSelect" style="display:none">
                        <br /><p>@reportPara.Prompt</p>
                        <select name="@reportParamSelect" id="@reportPara.ParameterName">
                            <option value="">--Select Parameter--</option>
                            @foreach (var para in report.DataParameters)
                            {
                                reportParam = @para.Value;
                                <option value="@reportParam">@reportParam</option>
                            }
                        </select>
                    </div>
                  }
              }
       <br /><br />
       <input type="submit" class="btn btn-primary btn-md active" value="Download Report" />
  <!--</form>-->
  }
    </div>



